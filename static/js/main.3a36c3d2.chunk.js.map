{"version":3,"sources":["components/Clients/SelectAddress/SelectAddress.module.css","components/Clients/SelectAddress/AddressItem/AddressItem.js","api/clients.js","store/reducers/addressesReducer.js","store/reducers/clientsReducer.js","components/Clients/SelectAddress/SelectAddress.js","components/Clients/ClientsList/ClientsList.js","components/Clients/ClientModal/ClientModal.js","components/Clients/Clients.js","App.js","reportWebVitals.js","store/store.js","index.js","components/Clients/ClientsList/ClientsList.module.css","components/Clients/Clients.module.css"],"names":["module","exports","Option","Select","AddressItem","React","memo","props","disabled","showSearch","style","width","placeholder","optionFilterProp","onChange","onBlur","filterOption","input","option","children","toLowerCase","indexOf","list","map","item","value","id","name","instance","axios","create","baseURL","headers","addressListAPI","get","clientsAPI","addressId","delete","clientData","post","newClientData","put","initialState","streets","houses","houseFlats","selectedStreet","selectedHouse","selectedHouseFlat","currentFullAddress","status","changeAddressesStatus","type","payload","inputMode","editableClientData","clientId","phone","email","clients","changeInputMode","deleteClient","addClient","SelectAddress","dispatch","useDispatch","useSelector","state","addresses","useEffect","a","res","data","console","log","changeSelectedStreet","useCallback","addSelectedStreet","fetchHouses","changeSelectedHouse","addSelectedHouse","fetchHouseFlats","changeSelectedHouseFlat","addSelectedHouseFlat","className","styles","wrapper","Meta","Card","ClientsList","handleDeleteClient","sendingDeleteClient","address","inner","client","marginBottom","actions","EditOutlined","onClick","editClient","DeleteOutlined","title","description","messageBox","ClientModal","prefixSelector","Item","noStyle","formik","useFormik","initialValues","validate","values","errors","isFinite","Number","length","test","onSubmit","finalData","sendingUpdateClientData","resetForm","onClickClientModal","Modal","visible","onCancel","footer","handleSubmit","label","getFieldProps","addonBefore","touched","color","htmlType","Clients","useState","isVisibleClientModal","setIsVisibleClientModal","addressStatus","spinWrapper","btns","changeEditableClientData","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","find","street","house","flat","filter","currentClientData","cl","resultClientData","store","createStore","applyMiddleware","thunk","window","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3a36c3d2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SelectAddress_wrapper__I3I2y\"};","import React from 'react';\r\nimport {Select} from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst AddressItem = React.memo(\r\n  function (props) {\r\n\r\n    return (\r\n      <span>\r\n      <Select\r\n        disabled={props.disabled}\r\n        showSearch\r\n        style={{ width: 200 }}\r\n        placeholder={props.placeholder}\r\n        optionFilterProp=\"children\"\r\n        onChange={props.onChange}\r\n        onBlur={props.onBlur}\r\n        filterOption={(input, option) =>\r\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n      >\r\n        {props.list.map(item => {\r\n          return <Option key={item.id} value={item.id}>{item.name}</Option>\r\n        })}\r\n      </Select>\r\n    </span>\r\n    );\r\n  }\r\n)\r\n\r\n\r\n\r\nexport default AddressItem;\r\n\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://dispex.org/api/vtest',\r\n  headers: {\r\n    'Authorization': 'Bearer krivovdima',\r\n  }\r\n});\r\n\r\nexport const addressListAPI = {\r\n  getStreets() {\r\n    return instance.get('/Request/streets');\r\n  },\r\n  getHouses(id) {\r\n    return instance.get(`/Request/houses/${id}`);\r\n  },\r\n  getHouseFlats(id) {\r\n    return instance.get(`/Request/house_flats/${id}`);\r\n  },\r\n}\r\n\r\nexport const clientsAPI = {\r\n  getClients(addressId) {\r\n    return instance.get(`/HousingStock/clients?addressId=${addressId}`);\r\n  },\r\n  deleteClient(id) {\r\n    return instance.delete(`/HousingStock/bind_client/${id}`);\r\n  },\r\n  addClient(clientData) {\r\n    return instance.post('/HousingStock/client', {...clientData});\r\n  },\r\n  updateClientData(addressId, newClientData ) {\r\n    return instance.put('/HousingStock/bind_client', {addressId, ...newClientData});\r\n  }\r\n}\r\n\r\n","import {addressListAPI} from \"../../api/clients\";\r\n\r\nconst initialState = {\r\n  streets: [],\r\n  houses: [],\r\n  houseFlats: [],\r\n  selectedStreet: {},\r\n  selectedHouse: {},\r\n  selectedHouseFlat: {},\r\n  currentFullAddress: '',\r\n  status: 'idle', // maybe 'idle' | 'loading' | 'success'\r\n}\r\n\r\nexport const addressesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD-STREETS': {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    }\r\n    case 'ADD-HOUSES': {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    }\r\n    case 'ADD-HOUSE-FLATS': {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    }\r\n    case 'ADD-SELECTED-STREET': {\r\n      const selectedStreet = state.streets.find(street => street.id === action.id);\r\n      return {...state, selectedStreet: selectedStreet};\r\n    }\r\n    case 'ADD-SELECTED-HOUSE': {\r\n      const selectedHouse = state.houses.find(house => house.id === action.id);\r\n      return {...state, selectedHouse: selectedHouse};\r\n    }\r\n    case 'ADD-SELECTED-HOUSE-FLAT': {\r\n      const selectedHouseFlat = state.houseFlats.find(flat => flat.id === action.id);\r\n      return {...state, selectedHouseFlat: selectedHouseFlat};\r\n    }\r\n    case 'ADD-CURRENT-FULL-ADDRESS': {\r\n      return {\r\n        ...state,\r\n        currentFullAddress: `${state.selectedStreet.name} ${state.selectedHouse.name} кв. ${state.selectedHouseFlat.name}`\r\n      }\r\n    }\r\n    case 'CHANGE-ADDRESSES-STATUS': {\r\n      return {...state, ...action.payload}\r\n    }\r\n    default: {\r\n      return state\r\n    }\r\n  }\r\n}\r\n\r\n// actions creators\r\n\r\nconst addStreets = (streets) => ({type: 'ADD-STREETS', payload: {streets},})\r\nconst addHouses = (houses) => ({type: 'ADD-HOUSES', payload: {houses},})\r\nconst addHouseFlats = (houseFlats) => ({type: 'ADD-HOUSE-FLATS', payload: {houseFlats},})\r\nexport const addSelectedStreet = (id) => ({type: 'ADD-SELECTED-STREET', id,})\r\nexport const addSelectedHouse = (id) =>({type: 'ADD-SELECTED-HOUSE', id,})\r\nexport const addSelectedHouseFlat = (id) => ({type: 'ADD-SELECTED-HOUSE-FLAT', id,})\r\nexport const addCurrentFullAddress = () => ({type: 'ADD-CURRENT-FULL-ADDRESS'});\r\nexport const changeAddressesStatus = (status) => ({type: 'CHANGE-ADDRESSES-STATUS', payload: {status}});\r\n\r\n// thunk creators\r\n\r\nexport const fetchStreets = () => async (dispatch) => {\r\n  try {\r\n    dispatch(changeAddressesStatus('loading'));\r\n    const res = await addressListAPI.getStreets();\r\n    dispatch(changeAddressesStatus('success'));\r\n    dispatch(addStreets(res.data));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\nexport const fetchHouses = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch(changeAddressesStatus('loading'));\r\n    const res = await addressListAPI.getHouses(id);\r\n    dispatch(changeAddressesStatus('success'));\r\n    dispatch(addHouses(res.data));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\nexport const fetchHouseFlats = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch(changeAddressesStatus('loading'));\r\n    const res = await addressListAPI.getHouseFlats(id);\r\n    dispatch(changeAddressesStatus('success'));\r\n    dispatch(addHouseFlats(res.data));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import {clientsAPI} from \"../../api/clients\";\r\nimport {addCurrentFullAddress} from \"./addressesReducer\";\r\n\r\nconst initialState = {\r\n  inputMode: '', // maybe 'addition' | 'editing'\r\n  editableClientData: {clientId: null, name: '', phone: '', email: '',},\r\n  clients: [],\r\n}\r\n\r\nexport const clientsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'CHANGE-INPUT-MODE': {\r\n      return {...state, ...action.payload};\r\n    }\r\n    case 'ADD-CLIENTS': {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    }\r\n    case 'DELETE-CLIENT': {\r\n      return {\r\n        ...state,\r\n        clients: state.clients.filter(client => client.id !== action.id),\r\n      }\r\n    }\r\n    case 'CHANGE-EDITABLE-CLIENT-DATA': {\r\n      if (action.id === null) {\r\n        return {...state, editableClientData: {clientId: null, name: '', phone: '', email: '',}};\r\n      } else {\r\n        const currentClientData = state.clients.find(cl => cl.id === action.id);\r\n        return {\r\n          ...state,\r\n          editableClientData: {\r\n            clientId: currentClientData.id,\r\n            name: currentClientData.name,\r\n            phone: currentClientData.phone,\r\n            email: currentClientData.email,\r\n          },\r\n        };\r\n      }\r\n    }\r\n    case 'ADD-CLIENT': {\r\n      return {\r\n        ...state,\r\n        clients: [action.clientData, ...state.clients],\r\n      }\r\n    }\r\n    case 'UPDATE-CLIENT': {\r\n      const {resultClientData, clientId} = action.newClientData;\r\n      resultClientData.id = action.newClientData.clientId;\r\n      return {\r\n        ...state,\r\n        clients: state.clients.map(cl => {\r\n          if (cl.id === action.newClientData.clientId) {\r\n            return resultClientData;\r\n          } else {\r\n            return cl;\r\n          }\r\n        })\r\n      }\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n\r\n// action creators\r\n\r\nexport const changeInputMode = (inputMode) => ({type: 'CHANGE-INPUT-MODE', payload: {inputMode},});\r\nexport const deleteClient = (id) => ({type: 'DELETE-CLIENT', id,});\r\nconst addClients = (clients) => ({type: 'ADD-CLIENTS', payload: {clients},})\r\nexport const changeEditableClientData = (id) => ({type: 'CHANGE-EDITABLE-CLIENT-DATA', id,});\r\nconst addClient = (clientData) => ({type: 'ADD-CLIENT', clientData,});\r\nconst updateClient = (newClientData) => ({type: 'UPDATE-CLIENT', newClientData,});\r\n\r\n// thunk creators\r\n\r\nexport const fetchClients = (addressId) => async (dispatch) => {\r\n  try {\r\n    const res = await clientsAPI.getClients(addressId);\r\n    dispatch(addCurrentFullAddress());\r\n    dispatch(addClients(res.data));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\nexport const sendingDeleteClient = (id) => async (dispatch) => {\r\n  try {\r\n    await clientsAPI.deleteClient(id);\r\n    dispatch(deleteClient(id));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\nexport const sendingAddClient = (clientData) => async (dispatch) => {\r\n  try {\r\n    const res = await clientsAPI.addClient(clientData);\r\n    const finalData = {id: res.data.id, ...clientData};\r\n    dispatch(addClient(finalData));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\nexport const sendingUpdateClientData = (addressId, clientData) => async (dispatch) => {\r\n  try {\r\n    await clientsAPI.updateClientData(addressId, clientData);\r\n    dispatch(updateClient(clientData));\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}","import React, {useCallback, useEffect} from 'react';\r\nimport AddressItem from \"./AddressItem/AddressItem\";\r\nimport styles from './SelectAddress.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n  addCurrentFullAddress,\r\n  addSelectedHouse,\r\n  addSelectedHouseFlat,\r\n  addSelectedStreet,\r\n  fetchHouseFlats,\r\n  fetchHouses,\r\n  fetchStreets\r\n} from \"../../../store/reducers/addressesReducer\";\r\nimport {fetchClients} from \"../../../store/reducers/clientsReducer\";\r\n\r\nfunction SelectAddress() {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    streets,\r\n    houses,\r\n    houseFlats,\r\n    status,\r\n  } = useSelector(state => state.addresses);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchStreets());\r\n  }, [dispatch])\r\n\r\n  const changeSelectedStreet = useCallback(\r\n    (id) => {\r\n      dispatch(addSelectedStreet(id));\r\n      dispatch(fetchHouses(id));\r\n    }, [dispatch]\r\n  )\r\n\r\n  const changeSelectedHouse = useCallback(\r\n    (id) => {\r\n      dispatch(addSelectedHouse(id));\r\n      dispatch(fetchHouseFlats(id));\r\n    }, [dispatch]\r\n  )\r\n\r\n  const changeSelectedHouseFlat = useCallback((id) => {\r\n    dispatch(addSelectedHouseFlat(id));\r\n    dispatch(addCurrentFullAddress());\r\n    dispatch(fetchClients(id));\r\n  }, [dispatch]\r\n  )\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <AddressItem disabled={status === 'loading'}\r\n                   onChange={changeSelectedStreet}\r\n                   list={streets}\r\n                   placeholder='Улица'/>\r\n      <AddressItem disabled={status === 'loading'}\r\n                   onChange={changeSelectedHouse}\r\n                   list={houses}\r\n                   placeholder='Дом'/>\r\n      <AddressItem disabled={status === 'loading'}\r\n                   onChange={changeSelectedHouseFlat}\r\n                   list={houseFlats}\r\n                   placeholder='Кв./офис'/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectAddress;\r\n\r\n","import React from 'react';\r\nimport {Card} from \"antd\";\r\nimport {DeleteOutlined, EditOutlined} from '@ant-design/icons';\r\nimport styles from './ClientsList.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {sendingDeleteClient} from \"../../../store/reducers/clientsReducer\";\r\n\r\nconst {Meta} = Card;\r\n\r\nfunction ClientsList(props) {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDeleteClient = (id) => {\r\n    dispatch(sendingDeleteClient(id))\r\n  }\r\n\r\n  const currentFullAddress = useSelector(state => state.addresses.currentFullAddress)\r\n\r\n  if (!props.list) {\r\n    return(\r\n      <div>\r\n        <h2 className={styles.address}>{currentFullAddress}</h2>\r\n        <h3 className={styles.messageBox}>Список жильцов пуст</h3>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h2 className={styles.address}>{currentFullAddress}</h2>\r\n      <div className={styles.inner}>\r\n        {props.list.map(client => {\r\n          return (\r\n            <Card\r\n              key={client.id}\r\n              style={{width: 350, marginBottom: 20}}\r\n              actions={[\r\n                <EditOutlined onClick={() => {props.editClient(client.id)}} key=\"edit\"/>,\r\n                <DeleteOutlined onClick={() => {handleDeleteClient(client.id)}} key=\"delete\"/>,\r\n              ]}\r\n            >\r\n              <Meta\r\n                title={`ФИО: ${client.name}`}\r\n                description={\r\n                  <div>\r\n                    <div>Phone:&nbsp;{client.phone}</div>\r\n                    <div>Email:&nbsp;{client.email}</div>\r\n                  </div>\r\n                }\r\n              />\r\n            </Card>\r\n          )\r\n        })}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ClientsList;","import React from 'react';\r\nimport Modal from \"antd/es/modal/Modal\";\r\nimport {Button, Form, Input} from 'antd';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useFormik} from \"formik\";\r\nimport {sendingAddClient, sendingUpdateClientData} from \"../../../store/reducers/clientsReducer\";\r\n\r\nfunction ClientModal(props) {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const {inputMode, editableClientData} = useSelector(state => state.clients);\r\n  const currentFullAddress = useSelector(state => state.addresses.currentFullAddress);\r\n  const addressId = useSelector(state => state.addresses.selectedHouseFlat.id);\r\n\r\n  const handleCancel = () => {\r\n    props.onClickClientModal(false);\r\n  };\r\n\r\n  const prefixSelector = (\r\n    <Form.Item name=\"prefix\" noStyle>\r\n      +7\r\n    </Form.Item>\r\n  );\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      phone: editableClientData.phone,\r\n      name: editableClientData.name,\r\n      email: editableClientData.email,\r\n    },\r\n    validate: values => {\r\n      const errors = {};\r\n      if (!values.phone) {\r\n        errors.phone = 'Required';\r\n      } else if (!isFinite(Number(values.phone))) {\r\n        errors.phone = 'Invalid phone number';\r\n      } else if (values.phone.length !== 10) {\r\n        errors.phone = 'Invalid length phone number';\r\n      } else if (values.email !== '' && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n        errors.email = 'Invalid email address';\r\n      }\r\n      return errors;\r\n    },\r\n    onSubmit: values => {\r\n      if (inputMode === 'addition') {\r\n        dispatch(sendingAddClient(values));\r\n      } else {\r\n        dispatch(sendingUpdateClientData(addressId, {clientId: editableClientData.clientId, ...values}));\r\n      }\r\n      formik.resetForm();\r\n      props.onClickClientModal(false);\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <Modal title={inputMode === 'addition' ? 'Добавить жильца' : 'Редактировать данные'}\r\n             visible={props.visible}\r\n             onCancel={handleCancel}\r\n             footer={null}\r\n             >\r\n        <p>\r\n          {currentFullAddress},\r\n          {inputMode === 'editing' && <span>Phone:&nbsp;{editableClientData.phone}</span>}\r\n        </p>\r\n        <form onSubmit={formik.handleSubmit}>\r\n          <Form.Item label=\"Телефон\">\r\n            <Input {...formik.getFieldProps('phone')} addonBefore={prefixSelector} style={{ width: '100%' }} />\r\n            {formik.touched.phone && formik.errors.phone && <div style={{color: \"tomato\"}}>{formik.errors.phone}</div>}\r\n          </Form.Item>\r\n          <Form.Item label=\"ФИО\">\r\n            <Input {...formik.getFieldProps('name')}/>\r\n            {formik.touched.name && formik.errors.name && <div style={{color: \"tomato\"}}>{formik.errors.name}</div>}\r\n          </Form.Item>\r\n          <Form.Item label=\"Email\">\r\n            <Input {...formik.getFieldProps('email')}/>\r\n            {formik.touched.email && formik.errors.email && <div style={{color: \"tomato\"}}>{formik.errors.email}</div>}\r\n          </Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ClientModal;","import React, {useState} from 'react';\r\nimport SelectAddress from './SelectAddress/SelectAddress';\r\nimport styles from './Clients.module.css';\r\nimport {Button, Spin} from \"antd\";\r\nimport ClientsList from \"./ClientsList/ClientsList\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport ClientModal from \"./ClientModal/ClientModal\";\r\nimport {changeEditableClientData, changeInputMode} from \"../../store/reducers/clientsReducer\";\r\n\r\n\r\nfunction Clients() {\r\n\r\n  const [isVisibleClientModal, setIsVisibleClientModal] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const currentFullAddress = useSelector(state => state.addresses.currentFullAddress);\r\n  const addressStatus = useSelector(state => state.addresses.status);\r\n  const clients = useSelector(state => state.clients.clients);\r\n  const editableClientData = useSelector(state => state.clients.editableClientData);\r\n\r\n  const handleSetIsVisibleClientModal = (value) => {\r\n    setIsVisibleClientModal(value);\r\n  }\r\n\r\n  const handleOnClickAddClient = () => {\r\n    dispatch(changeInputMode('addition'));\r\n    setIsVisibleClientModal(true);\r\n  }\r\n\r\n  const handleEditClient = (id) => {\r\n    dispatch(changeInputMode('editing'));\r\n    dispatch(changeEditableClientData(id));\r\n    setIsVisibleClientModal(true);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <SelectAddress/>\r\n      <div className={styles.spinWrapper}>\r\n        {addressStatus === 'loading' && <Spin/>}\r\n      </div>\r\n      <div className={styles.btns}>\r\n        <Button onClick={handleOnClickAddClient}\r\n                type=\"primary\"\r\n                disabled={!currentFullAddress}\r\n                >\r\n          Добавить жильца\r\n        </Button>\r\n      </div>\r\n      <ClientModal visible={isVisibleClientModal}\r\n                   onClickClientModal={handleSetIsVisibleClientModal}\r\n                   editableClientData={editableClientData}/>\r\n      <ClientsList list={clients} editClient={handleEditClient}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Clients;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import './App.css';\nimport Clients from \"./components/Clients/Clients\";\nimport 'antd/dist/antd.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Clients/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport {addressesReducer} from \"./reducers/addressesReducer\";\r\nimport {clientsReducer} from \"./reducers/clientsReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  addresses: addressesReducer,\r\n  clients: clientsReducer,\r\n})\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nwindow.store = store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store/store\";\n\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inner\":\"ClientsList_inner__1PRfR\",\"messageBox\":\"ClientsList_messageBox__2S3Xt\",\"address\":\"ClientsList_address__KaHM4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Clients_wrapper__v96VE\",\"btns\":\"Clients_btns__1TwP4\",\"spinWrapper\":\"Clients_spinWrapper__3DGl8\"};"],"sourceRoot":""}